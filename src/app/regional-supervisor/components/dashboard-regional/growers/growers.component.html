<div class="container">
	<h2 style="text-align:center">Growers</h2>
	<div class="rtl-right panel with-nav-tabs panel-default">
		<div class="panel-heading">
			<ul class="nav nav-tabs">
				<li class="nav-item">
					<a class="nav-link active" href="#tab2default" data-toggle="tab" aria-controls="home" aria-selected="true">All</a>
				</li>
				<!-- <li class="nav-item">
					<a class="nav-link" href="#tab1default" data-toggle="tab" aria-controls="home" aria-selected="true">Add/Edit</a>
				</li> -->
			</ul>
		</div>
		<div class="panel-body">
			<div class="tab-content">
				<div class="tab-pane fade" id="tab1default">
					<form [formGroup]="add_growersForm" class="col-md-6">
						<h2>Add:</h2>
						<div class="row" style="width:250%">
							<div class="col-md-4">
								<div class="form-group row">
									<label for="inputPassword" class="col-sm-2 col-form-label">First Name:</label>
									<div class="col-sm-10 col-md-6">
										<input type="text" class="form-control" formControlName="first_name" placeholder="First Name">
									</div>
								</div>
								<div class="form-group row">
									<label for="inputPassword" class="col-sm-2 col-form-label">Last Name:</label>
									<div class="col-sm-10 col-md-6">
										<input type="text" class="form-control" formControlName="last_name" placeholder="Last Name">
									</div>
								</div>
								<div class="form-group row">
									<label for="inputPassword" class="col-sm-2 col-form-label">Email:</label>
									<div class="col-sm-10 col-md-6">
										<input type="text" class="form-control" formControlName="email" placeholder="Email">
									</div>
								</div>

								<!-- <pre>{{ districtData | json }}</pre> -->

								<div class="rtl-right btn-group">
									<span class="set-margin">Region:</span>
									<select formControlName="region_id" name="select" required class="form-control" (change)="onRegionChange($event.target.value)">
										<option *ngFor="let rg of districtData" [value]="rg['_id']">{{rg.region_name}}</option>
									</select>
								</div>
							</div>
							<div class="col-md-4">
								<div class="form-group row">
									<label for="inputPassword" class="col-sm-2 col-form-label">ID:</label>
									<div class="col-sm-10 col-md-6">
										<input type="text" class="form-control" placeholder="ID">
									</div>
								</div>
								<div class="form-group row">
									<label for="inputPassword" class="col-sm-2 col-form-label">Eshkol Number:</label>
									<div class="col-sm-10 col-md-6">
										<input type="number" class="form-control" formControlName="eshkol_number" placeholder="eshkol number">
									</div>
								</div>
								<div class="form-group row">
									<label for="inputPassword" class="col-sm-2 col-form-label">Office Phone:</label>
									<div class="col-sm-10 col-md-6">
										<input type="number" class="form-control" formControlName="office_phone" placeholder="office phone">
									</div>
								</div>
								<div class="rtl-right btn-group">
									<span class="set-margin">Supervisor:</span>
									<select formControlName="supervisor_id" name="select" required class="form-control">
										<option *ngFor="let user of tableUserDataFilter" [value]="user['user_id']">{{user.firstName}}</option>

									</select>
								</div>

							</div>
							<div class="col-md-4">
								<div class="form-group row">
									<label for="inputPassword" class="col-sm-2 col-form-label">Cell Phone:</label>
									<div class="col-sm-10 col-md-6">
										<input type="number" class="form-control" formControlName="cell_phone" placeholder="cell phone">
									</div>
								</div>
								<div class="form-group row">
									<label for="inputPassword" class="col-sm-2 col-form-label">Farm Name:</label>
									<div class="col-sm-10 col-md-6">
										<input type="text" class="form-control" formControlName="farm_name" placeholder="farm name">
									</div>
								</div>
								<div class="form-group row">
									<label for="inputPassword" class="col-sm-2 col-form-label">Address:</label>
									<div class="col-sm-10 col-md-6">
										<input type="text" class="form-control" formControlName="address" placeholder="address">
									</div>
								</div>
								<div style="justify-content:center" class="form-group row">
									<button style="width:25%" type="button" class="add-button btn btn-primary" (click)="createNewGrowers()">Add</button>
								</div>

							</div>
						</div>
					</form>
					<form [formGroup]="edit_growersForm" class="col-md-6">
						<h2>Edit:</h2>
						<div class="row" style="width:250%">
							<div class="col-md-4">
								<div class="form-group row">
									<label for="inputPassword" class="col-sm-2 col-form-label">First Name:</label>
									<div class="col-sm-10 col-md-6">
										<input type="text" class="form-control" formControlName="first_name" placeholder="First Name">
									</div>
								</div>
								<div class="form-group row">
									<label for="inputPassword" class="col-sm-2 col-form-label">Last Name:</label>
									<div class="col-sm-10 col-md-6">
										<input type="text" class="form-control" formControlName="last_name" placeholder="Last Name">
									</div>
								</div>
								<div class="form-group row">
									<label for="inputPassword" class="col-sm-2 col-form-label">Email:</label>
									<div class="col-sm-10 col-md-6">
										<input type="text" class="form-control" formControlName="email" placeholder="Email">
									</div>
								</div>

								<div class="rtl-right btn-group">
									<span class="set-margin">Region:</span>
									<select formControlName="region_id" name="select" required class="form-control">
										<option *ngFor="let rg of districtData" [value]="rg['_id']">{{rg.region_name}}</option>

									</select>
								</div>
							</div>
							<div class="col-md-4">
								<div class="form-group row">
									<label for="inputPassword" class="col-sm-2 col-form-label">ID:</label>
									<div class="col-sm-10 col-md-6">
										<input type="text" class="form-control" formControlName="id" placeholder="ID">
									</div>
								</div>
								<div class="form-group row">
									<label for="inputPassword" class="col-sm-2 col-form-label">Eshkol Number:</label>
									<div class="col-sm-10 col-md-6">
										<input type="number" class="form-control" formControlName="eshkol_number" placeholder="eshkol number">
									</div>
								</div>
								<div class="form-group row">
									<label for="inputPassword" class="col-sm-2 col-form-label">Office Phone:</label>
									<div class="col-sm-10 col-md-6">
										<input type="number" class="form-control" formControlName="office_phone" placeholder="office phone">
									</div>
								</div>

								<div class="rtl-right btn-group">
									<span class="set-margin">Supervisor:</span>
									<select formControlName="supervisor_id" name="select" required class="form-control">
										<option *ngFor="let user of tableUserData" [value]="user['user_id']">{{user.firstName}}</option>

									</select>
								</div>

							</div>
							<div class="col-md-4">
								<div class="form-group row">
									<label for="inputPassword" class="col-sm-2 col-form-label">Cell Phone:</label>
									<div class="col-sm-10 col-md-6">
										<input type="number" class="form-control" formControlName="cell_phone" placeholder="cell phone">
									</div>
								</div>
								<div class="form-group row">
									<label for="inputPassword" class="col-sm-2 col-form-label">Farm Name:</label>
									<div class="col-sm-10 col-md-6">
										<input type="text" class="form-control" formControlName="farm_name" placeholder="farm name">
									</div>
								</div>
								<div class="form-group row">
									<label for="inputPassword" class="col-sm-2 col-form-label">Address:</label>
									<div class="col-sm-10 col-md-6">
										<input type="text" class="form-control" formControlName="address" placeholder="address">
									</div>
								</div>
								<div style="justify-content:center" class="form-group row">
									<button style="width:25%" type="button" class="add-button btn btn-primary" (click)="submitEditData()">Edit</button>
								</div>

							</div>
						</div>
					</form>
					<div style="display:flex;width : 80%">
						<span class="inner-addon left-addon col-10">
							<i style="left:-10px" class="fas fa-search setPosition"></i>
							<input [(ngModel)]="searchQuery" style="border-radius: 50px;padding-right:30px" class="form-control" placeholder="Search"
							 type="search" id="example-search-input">
						</span>
					</div>
					<table class="table setMargin tableBodyScroll">
						<thead>
							<tr>
								<th scope="col">First Name</th>
								<th scope="col">Last Name</th>
								<th scope="col">Email</th>
								<th scope="col">Phone</th>
								<th scope="col">Go</th>



							</tr>
						</thead>
						<tbody class="abc">
							<tr *ngFor="let gt of growerShowTable | search:searchQuery; let i = index" (click)="editDataFromList(gt,i)">
								<td>{{gt.first_name}}</td>
								<td>{{gt.last_name}}</td>
								<td>{{gt.email}}</td>
								<td>{{gt.cell_phone}}</td>
								<td>
									<button type="button" class="add-button btn btn-primary">Go</button>
								</td>
							</tr>
						</tbody>
					</table>
				</div>

				<div class="tab-pane fade show active" id="tab2default">
					<div class="rtl-right row">
						<div style="display:flex;width : 80%">
							<span class="inner-addon left-addon col-10">
								<i style="left:-10px" class="fas fa-search setPosition"></i>
								<input [(ngModel)]="searchQuery" style="border-radius: 50px;padding-right:30px" class="form-control" placeholder="Search"
								 type="search" id="example-search-input">
							</span>
						</div>
						<table class="table setMargin tableBodyScroll">
							<thead>
								<tr>
									<th scope="col">First Name</th>
									<th scope="col">Last Name</th>
									<th scope="col">Email</th>
									<th scope="col">Phone</th>
									<th scope="col">Go</th>
								</tr>
							</thead>
							<tbody class="abc">
								<tr class="trow" *ngFor="let gt of growerShowTable | search:searchQuery; let i = index" (click)="assignDetails(gt,i)">
									<td>{{gt.first_name}}</td>
									<td>{{gt.last_name}}</td>
									<td>{{gt.email}}</td>
									<td>{{gt.cell_phone}}</td>
									<td>
										<button type="button" class="add-button btn btn-primary">Go</button>
									</td>
								</tr>
							</tbody>
						</table>
						<form [formGroup]="growersForm_all" class="col-md-6">
							<h2>Details:</h2>
							<div class="row" style="width:250%">
								<div class="col-md-4">
									<div class="form-group row">
										<label for="inputPassword" class="col-sm-2 col-form-label">First Name:</label>
										<div class="col-sm-10 col-md-6">
											<input type="text" class="form-control" formControlName="first_name" placeholder="First Name">
										</div>
									</div>
									<div class="form-group row">
										<label for="inputPassword" class="col-sm-2 col-form-label">Last Name:</label>
										<div class="col-sm-10 col-md-6">
											<input type="text" class="form-control" formControlName="last_name" placeholder="Last Name">
										</div>
									</div>
									<div class="form-group row">
										<label for="inputPassword" class="col-sm-2 col-form-label">Email:</label>
										<div class="col-sm-10 col-md-6">
											<input type="text" class="form-control" formControlName="email" placeholder="Email">
										</div>
									</div>
									<div class="form-group row">
										<label for="inputPassword" class="col-sm-2 col-form-label">Region:</label>
										<div class="col-sm-10 col-md-6">
											<input type="text" class="form-control" formControlName="region_id" placeholder="region">
										</div>
									</div>
								</div>
								<div class="col-md-4">
									<div class="form-group row">
										<label for="inputPassword" class="col-sm-2 col-form-label">ID:</label>
										<div class="col-sm-10 col-md-6">
											<input type="text" class="form-control" formControlName="id" placeholder="ID">
										</div>
									</div>
									<div class="form-group row">
										<label for="inputPassword" class="col-sm-2 col-form-label">Eshkol Number:</label>
										<div class="col-sm-10 col-md-6">
											<input type="number" class="form-control" formControlName="eshkol_number" placeholder="eshkol number">
										</div>
									</div>
									<div class="form-group row">
										<label for="inputPassword" class="col-sm-2 col-form-label">Office Phone:</label>
										<div class="col-sm-10 col-md-6">
											<input type="number" class="form-control" formControlName="office_phone" placeholder="office phone">
										</div>
									</div>
									<div class="form-group row">
										<label style="margin-left: 5px;" for="inputPassword" class="col-sm-2 col-form-label">Supervisor:</label>
										<div class="col-sm-10 col-md-6">
											<input type="text" class="form-control" formControlName="supervisor_id" placeholder="supervisor">
										</div>
									</div>

								</div>
								<div class="col-md-4">
									<div class="form-group row">
										<label for="inputPassword" class="col-sm-2 col-form-label">Cell Phone:</label>
										<div class="col-sm-10 col-md-6">
											<input type="number" class="form-control" formControlName="cell_phone" placeholder="cell phone">
										</div>
									</div>
									<div class="form-group row">
										<label for="inputPassword" class="col-sm-2 col-form-label">Farm Name:</label>
										<div class="col-sm-10 col-md-6">
											<input type="text" class="form-control" formControlName="farm_name" placeholder="farm name">
										</div>
									</div>
									<div class="form-group row">
										<label for="inputPassword" class="col-sm-2 col-form-label">Address:</label>
										<div class="col-sm-10 col-md-6">
											<input type="text" class="form-control" formControlName="address" placeholder="address">
										</div>
									</div>
								</div>
							</div>
						</form>

					</div>
					<h2>Contracts:</h2>

					<!-- Active/closed tabs -->
					<div class="panel with-nav-tabs panel-default">
						<div class="panel-heading">
							<ul class="nav nav-tabs">
								<li class="nav-item">
									<a class="nav-link active" href="#subtab1default" data-toggle="tab" aria-controls="home" aria-selected="true">Active</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="#subtab2default" data-toggle="tab" aria-controls="home" aria-selected="true">Closed</a>
								</li>
							</ul>
						</div>
						<div class="panel-body">
							<div class="tab-content">
								<div class="tab-pane fade show active" id="subtab1default">
									<table class="table setMargin">
										<thead>
											<tr>
												<th scope="col">Grower</th>
												<th scope="col">Product</th>
												<th scope="col">Amount</th>
												<th scope="col">Startdate</th>
												<th scope="col">Enddate</th>


											</tr>
										</thead>
										<tbody>
											<tr *ngFor="let rg of displayContractData | search:searchQuery">
												<td>{{rg.grower_id}}</td>
												<td>{{rg.product_id}}</td>
												<td>{{rg.amount}}</td>
												<td>{{rg.start_date}}</td>
												<td>{{rg.end_date}}</td>
											</tr>

										</tbody>
									</table>
								</div>
								<div class="tab-pane fade" id="subtab2default">
									closed data
								</div>
							</div>
						</div>
					</div>

					<!-- fields/invites tabs -->
					<div class="panel with-nav-tabs panel-default">
						<div class="panel-heading">
							<ul class="nav nav-tabs">
								<li class="nav-item">
									<a class="nav-link active" href="#bottomtab1default" data-toggle="tab" aria-controls="home" aria-selected="true">Fields</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="#bottomtab2default" data-toggle="tab" aria-controls="home" aria-selected="true">Invites</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="#bottomtab3default" data-toggle="tab" aria-controls="home" aria-selected="true">Reports</a>
								</li>
							</ul>
						</div>
						<div class="panel-body">
							<div class="tab-content">
								<div class="tab-pane fade show active" id="bottomtab1default">
									<table class="table setMargin tableBodyScroll tableBodyScroll">
										<thead>
											<tr>
												<th scope="col">Grower Name</th>
												<th scope="col">Field Name</th>
												<th scope="col">Field Size</th>
												<th scope="col">City</th>
												<th scope="col">Plan Date</th>
												<th scope="col">Plan Week</th>
											</tr>
										</thead>
										<tbody class="abc">
											<tr *ngFor="let fd of displayFieldData | search:searchQuery; let i = index">
												<td>{{fd.growerName}}</td>
												<td>{{fd.field_name}}</td>
												<td>{{fd.field_size}}</td>
												<td>Karachi</td>
												<td>{{fd.seeding_date}}</td>
												<td>Go</td>
											</tr>
										</tbody>
									</table>
								</div>
								<div class="tab-pane fade" id="bottomtab2default">
									<table class="table setMargin tableBodyScroll">
										<thead>
											<tr>
												<th scope="col">Invite Number</th>
												<th scope="col">Creation Date</th>
												<th scope="col">Grower Name</th>
												<th scope="col">Go</th>
											</tr>
										</thead>
										<tbody class="abc">
											<tr *ngFor="let i of displayinviteData; let ind = index" (click)="getInvitesDetails(i._id)">
												<td> {{i._id}}</td>
												<td>{{i.open_date}}</td>
												<td>{{i.growerName}}</td>
												<td>
													<button type="button" class="btn btn-primary">Go</button>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
								<div class="tab-pane fade" id="bottomtab3default">
									<table class="table setMargin tableBodyScroll">
										<thead>
											<tr>
												<th scope="col">Grower Name</th>
												<th scope="col">Report Number</th>
												<th scope="col">Creation Date</th>
												<th scope="col">Go</th>
											</tr>
										</thead>
										<tbody class="abc">
											<tr *ngFor="let i of reportsOfGrower; let ind = index" (click)="getReportsDetails(i._id)">
												<td> {{i.GrowerName}}</td>
												<td>{{i._id}}</td>
												<td>{{i.creation_date}}</td>
												<td>
													<button type="button" class="btn btn-primary">Go</button>
												</td>
											</tr>
										</tbody>
									</table>
								</div>

								
							</div>
						</div>
					</div>
				</div>
			</div>

		</div>

	</div>




	<div class="modal fade" id="invitesModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<!-- <div class="modal-header">
					
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div> -->
				<div class="modal-body">

					<table class="table table-hover">
						<thead class="thead-light">
							<tr>
								<th scope="col">Supply Date</th>
								<th scope="col">Field Name</th>
								<th scope="col">Size</th>
								<th scope="col">Product</th>
								<th scope="col">Amount</th>
							
							</tr>
						</thead>
						<tbody>
							<tr *ngFor="let i of InviteDetail; let ind = index">
								<td>{{i.supply_date}}</td>
								<td>{{i.Field_Name}}</td>
								<td>{{i.size}}</td>
								<td>{{i.Product_Name}}</td>
								<td>{{i.requested_quantity}}</td>
							
							</tr>

						</tbody>
					</table>

				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					<!-- <button type="button" class="btn btn-primary">Save changes</button> -->
				</div>
			</div>
		</div>
	</div>


	<div class="modal fade" id="reportsModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content" style="width: 130%">
				<!-- <div class="modal-header">
					
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div> -->
				<div class="modal-body">

					<table class="table table-hover">
						<thead class="thead-light">
							<tr>
								<th scope="col">Notes</th>
								<th scope="col">Recommendation</th>
								<th scope="col">Stabilization</th>
								<th scope="col">Bug Level</th>
								<th scope="col">Bug Type</th>
								<th scope="col">Field</th>
							</tr>
						</thead>
						<tbody>
							<tr *ngFor="let dd of ReportsDetail; let i = index">
							
								<td>{{dd.notes}}</td>
								<td>{{dd.recommendations}}</td>
								<td>{{dd.product_stabilization}}</td>
								<td>{{dd.infection_level}}</td>
								<td>{{dd.Bug_Name}}</td>
								<td>{{dd.Field_Name}}</td>
							</tr>

						</tbody>
					</table>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					<!-- <button type="button" class="btn btn-primary">Save changes</button> -->
				</div>
			</div>
		</div>
	</div>